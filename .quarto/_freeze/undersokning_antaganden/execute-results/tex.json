{
  "hash": "302760a2f80b3c2cca1ec2a46d8d0727",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Undersökning av teoretiska antaganden\"\nformat: pdf\n---\n\n\n\n\n## Problem efter modellering av modell 1.\n\nModellen hade problem med att den inte kunde uppskatta två koefficienter:\n\"Coefficients: (2 not defined because of singularities)\".\nDe koefficienter som inte kunde uppskattas var modelC70 och regionÖrebro.\n\nVid försök att köra vif() (ett mått på multikollinearitet) uppstod ett felmeddelande: \"Error in vif.default(model_1): there are aliased coefficients in the model\".\nDet bekräftades genom att köra alias() som visade vilka variabler som var linjärt beroende av andra.\n\nVid inspektion av tränningdatan så framgick att C70 endast innehöll en obeservation vilket gjorde att modellen inte kunde estimera dess effekt. RegionÖrebro däremot hade 32 observationer, men var linjärt beroende av andra prediktorer varpå multikollinearitet uppstod.\n\nEn kontroll visade att C70 endast förekom fyra gånger i datan, vilket inte räckte för att modellen skulle kunna estimera dess effekt. Observationerna togs därför bort.\n\nDen nya modellen tränades om utan felmeddelanden. För att säkerställa att multikollinearitet inte längre var ett problem användes vif(). De justerade VIF-värdena låg samtliga under det kritiska värdet 5, vilket tydde på att multikollinearitet inte var ett problem i den aktuella modellen. Det högsta värdet var 3.73 (year_model) följt av 3.45 (type).\n\n## Undersökning av teoretiska antaganden - Modell 3\nFör att säkerställa att den linjära regressionsmodellen (modell 3, som valts som slutlig modell) var tillförlitlig, behövde vissa teoretiska antaganden vara uppfyllda. Nedan följer en genomgång av dessa antaganden och hur de uppfyllts i modellen.\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n### Undersökning av linjärt samband mellan $X$ och $Y$\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Residualplot som visar ett svagt icke-linjärt mönster men relativt konstant varians längs $x$-axeln.](undersokning_antaganden_files/figure-pdf/unnamed-chunk-2-1.pdf)\n:::\n:::\n\n\n\n\nI grafen så ser vi att det finns ett svagt böjt mönster. Det kan tyda på ett avsteg från linjärt samband mellan X och Y. Mönstret är dock inte tillräckligt tydligt för att vi skall förkasta antagandet, men är värt att notera.\n\nSamtidigt verkar variansen vara relativt konstant längs x-axeln. Talar för att antagandet om homogen varians (ingen heteroskedasticitet).\n\n### Normalfördelade residualer\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Observationerna följer normalfördelningen väl kring medelvärdet, men det finns avvikelser i svansarna.](undersokning_antaganden_files/figure-pdf/unnamed-chunk-3-1.pdf)\n:::\n:::\n\n\n\n\nObservationerna följer normalfördelningen väl kring medelvärdet, men det finns avvikelser i svansarna – särskilt bland höga värden. Detta indikerar att man bör vara försiktig vid prediktion av ovanligt höga bilpriser.\n \n### Korrelerade residualer (tidsberoende)\nEftersom datan inte är tidsserier och varje bil är en fristående observation fanns inget behov av att undersöka tidsberoende residualer.\n\n### Outliers och leverage\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Leverage-värden för varje observation i modellen.](undersokning_antaganden_files/figure-pdf/unnamed-chunk-4-1.pdf)\n:::\n:::\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.3365043\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     price  seller   fuel    gear miles year_model type         wheels hpower\n393 389900 Företag Hybrid Automat 12209       2022  SUV Fyrhjulsdriven    350\n    engine brand model\n393   1969 Volvo  XC60\n```\n\n\n:::\n:::\n\n\n\n\nLeverage-analysen visade att en observation (en hybrid-SUV från 2022 med 350 hk) hade ovanligt stort inflytande på modellen. Då observationen representerar verkliga och möjliga framtida biltyper valdes den ändå att behållas i datan.\n\n### Multikollinearitet\n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n               GVIF Df GVIF^(1/(2*Df))\nfuel       2.991407  4        1.146791\nyear_model 2.579609  1        1.606116\nmiles      2.251292  1        1.500431\nhpower     2.823176  1        1.680231\n```\n\n\n:::\n:::\n\n\n\n\nAlla prediktorer hade VIF-värden under 3, vilket innebar att det inte fanns någon allvarlig multikollinearitet i modellen.",
    "supporting": [
      "undersokning_antaganden_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}